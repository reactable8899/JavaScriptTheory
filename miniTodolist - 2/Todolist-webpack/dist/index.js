!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.TodoList=n():t.TodoList=n()}(window,(function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=4)}([function(t,n,e){var r=e(1),o=e(2);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);t.exports=o.locals||{}},function(t,n,e){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var t={};return function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}t[n]=e}return t[n]}}(),s=[];function a(t){for(var n=-1,e=0;e<s.length;e++)if(s[e].identifier===t){n=e;break}return n}function l(t,n){for(var e={},r=[],o=0;o<t.length;o++){var i=t[o],l=n.base?i[0]+n.base:i[0],d=e[l]||0,c="".concat(l," ").concat(d);e[l]=d+1;var u=a(c),p={css:i[1],media:i[2],sourceMap:i[3]};-1!==u?(s[u].references++,s[u].updater(p)):s.push({identifier:c,updater:m(p,n),references:1}),r.push(c)}return r}function d(t){var n=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var o=e.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(t){n.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(n);else{var s=i(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(n)}return n}var c,u=(c=[],function(t,n){return c[t]=n,c.filter(Boolean).join("\n")});function p(t,n,e,r){var o=e?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=u(n,o);else{var i=document.createTextNode(o),s=t.childNodes;s[n]&&t.removeChild(s[n]),s.length?t.insertBefore(i,s[n]):t.appendChild(i)}}function f(t,n,e){var r=e.css,o=e.media,i=e.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var h=null,g=0;function m(t,n){var e,r,o;if(n.singleton){var i=g++;e=h||(h=d(n)),r=p.bind(null,e,i,!1),o=p.bind(null,e,i,!0)}else e=d(n),r=f.bind(null,e,n),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)};return r(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;r(t=n)}else o()}}t.exports=function(t,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=o());var e=l(t=t||[],n);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<e.length;r++){var o=a(e[r]);s[o].references--}for(var i=l(t,n),d=0;d<e.length;d++){var c=a(e[d]);0===s[c].references&&(s[c].updater(),s.splice(c,1))}e=i}}}},function(t,n,e){(n=e(3)(!1)).push([t.i,"/* @import './bootstrap.min.css'; */\r\n\r\nbody {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n.main {\r\n  &__block {\r\n    margin: auto;\r\n    width: 1100px;\r\n    height: 600px;\r\n    background-color: #EDEEEF;\r\n  }\r\n}\r\n/* .main__block {\r\n  margin: auto;\r\n  width: 1100px;\r\n  height: 600px;\r\n  background-color: #EDEEEF;\r\n} */\r\n.main__block_show {\r\n  display: block;\r\n  width: 730px;\r\n  margin: 0 auto;\r\n  margin-bottom: 40px;\r\n}\r\n\r\n.addList {\r\n  display: block;\r\n  width: 730px;\r\n  margin: 0 auto;\r\n}\r\n.input {\r\n  font-size: 18px;\r\n  border: none;\r\n  border-bottom: 1px solid #EEEEEE;\r\n  width: 600px;\r\n  padding: 6px 15px;\r\n  outline: none;\r\n}\r\n.priority {\r\n  margin-left: 40px;\r\n  font-size: 14px;\r\n  width: 100px;\r\n  padding: 8px;\r\n  border: 1px solid #EEEEEE;\r\n  border-radius: 10px;\r\n  outline: none;\r\n}\r\n.button {\r\n  margin-top: 10px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  color: white;\r\n  border: none;\r\n  margin-left: 20px;\r\n  width: 120px;\r\n  height: 35px;\r\n  background-color: #7F8186;\r\n  border-radius: 10px;\r\n  outline: none;\r\n}\r\n.button:hover {\r\n  background-color: #9DA5B4;\r\n}\r\n.addButton:focus {\r\n  outline: none;\r\n}\r\n.ulClass {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n.list__task {\r\n  position: relative;\r\n  margin-top: 20px;\r\n  padding-bottom: 10px;\r\n  list-style-type: none;\r\n  padding-left: 30px;\r\n  font-size: 22px;\r\n  border-bottom: 2px solid #eee;\r\n}\r\n.list__button {\r\n  float: right;\r\n  outline: none;\r\n  border: none;\r\n  font-size: 28px;\r\n  background-color: white;\r\n  margin-right: 20px;\r\n}\r\n.list__button:focus {\r\n  outline: none\r\n}\r\n.taskList {\r\n  margin-top: 40px;\r\n  clear: both;\r\n  overflow-y: auto;\r\n  background-color: white;\r\n  width: 900px;\r\n  height: 350px;\r\n  margin: 0 auto;\r\n  -webkit-box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n          box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n}\r\n.taskCount {\r\n  margin-top: 15px;\r\n  font-size: 20px;\r\n  display: none;\r\n  float: right;\r\n  margin-right: 150px;\r\n}\r\n.priorityClassHigth {\r\n  margin-right: 30px;\r\n  padding: 2px 10px;\r\n  background-color: #E95E51;\r\n  border: 1px solid #E95E51;\r\n  border-radius: 25px;\r\n  font-size: 14px;\r\n  color: white;\r\n}\r\n.priorityClassMedium {\r\n  margin-right: 30px;\r\n  padding: 2px 10px;\r\n  background-color: #7F8186;\r\n  border: 1px solid #7F8186;\r\n  border-radius: 25px;\r\n  font-size: 14px;\r\n  color: white;\r\n}\r\n.priorityClassLow {\r\n  margin-right: 30px;\r\n  padding: 2px 10px;\r\n  background-color: #0EBB82;\r\n  border: 1px solid #0EBB82;\r\n  border-radius: 25px;\r\n  font-size: 14px;\r\n  color: white;\r\n}\r\n\r\n.changeDisplayBlock {\r\n  background-color: #ccc;\r\n  color: white;\r\n  border: none;\r\n  position: absolute;\r\n  top: -10px;\r\n  right: 20px;\r\n  display: block;\r\n  font-size: 18px;\r\n}\r\n.changeDisplayNone {\r\n  display: none;\r\n}\r\n.lists {\r\n  padding-top: 0;\r\n  display: block;\r\n  margin-left: 100px;\r\n  margin-top: 0;\r\n}\r\n.list {\r\n  border-radius: 0 5px 0 0;\r\n  margin-right: 1px;\r\n  padding: 5px;\r\n  background-color: white;\r\n  border: none;\r\n  font-size: 18px;\r\n  width: 100px;\r\n  cursor: pointer;\r\n  border-bottom: 1px solid silver;\r\n  color: #7F8186;\r\n  -webkit-box-shadow: 5px 0px 8px -3px rgba(0,0,0,0.25);\r\n          box-shadow: 5px 0px 8px -3px rgba(0,0,0,0.25);\r\n\r\n}\r\n.list:hover {\r\n  background-color: #55BDE3;\r\n  color: white;\r\n}\r\n.listAdd {\r\n  margin-left: 3px;\r\n  border-radius: 25px;\r\n  border: none;\r\n  background-color: #EDEEEF;\r\n  font-size: 26px;\r\n  color: black;\r\n  margin-bottom: 0;\r\n}\r\n.listAdd {\r\n  cursor: pointer;\r\n}\r\n.listAdd:focus {\r\n  outline: none;\r\n}\r\n.newListInput {\r\n  border: none;\r\n  border-radius: 5px;\r\n  font-size: 18px;\r\n  width: 400px;\r\n  margin-left: 5px;\r\n  color: #757575;\r\n  border-bottom: 2px solid #EDEEEF;\r\n  outline: none;\r\n}\r\n.list:focus {\r\n  outline: none;\r\n  color: black;\r\n  background-color: #EDEEEF;\r\n}\r\n",""]),t.exports=n},function(t,n,e){"use strict";t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=function(t,n){var e=t[1]||"",r=t[3];if(!r)return e;if(n&&"function"==typeof btoa){var o=(s=r,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(l," */")),i=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[e].concat(i).concat([o]).join("\n")}var s,a,l;return[e].join("\n")}(n,t);return n[2]?"@media ".concat(n[2]," {").concat(e,"}"):e})).join("")},n.i=function(t,e,r){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(o[s]=!0)}for(var a=0;a<t.length;a++){var l=[].concat(t[a]);r&&o[l[0]]||(e&&(l[2]?l[2]="".concat(e," and ").concat(l[2]):l[2]=e),n.push(l))}},n}},function(t,n,e){"use strict";e.r(n);const r=function(){};r.prototype.make=function(t,n=[],e={}){const r=document.createElement(t);for(let t=0;t<n.length;t++){const e=n[t];r.classList.add(e)}for(let t in e)r[t]=e[t];return r},r.prototype.find=function(t,n){return t.querySelector(n)},r.prototype.findAll=function(t,n){return t.querySelectorAll(n)},r.prototype.appendTo=function(t,n){t.append(n)};var o=new r;const i=function(t,n,e){this.name=t,this.priority=n,this.app=e,this.dom={div:null};let r=0;const s=o.make("div",["list__task"]),a=o.make("span");a.classList.add=i.prototype.getPriority(n,a);const l=o.make("span",["listText"],{textContent:t}),d=o.make("button",["list__button"],{textContent:"..."}),c=o.make("button",["deleteSpan"],{textContent:"Удалить"});d.addEventListener("click",(function(t){0===r?(s.appendChild(c),c.classList.add("changeDisplayBlock"),c.classList.remove("changeDisplayNone"),r++):(c.classList.add("changeDisplayNone"),c.classList.remove("changeDisplayBlock"),r--)})),c.addEventListener("click",(function(){const t=event.target.parentNode;e.tasksCountDec(event.target.parentNode),e.setToLocal(this.currentManager),t.remove()})),s.appendChild(a),s.appendChild(l),s.appendChild(d),this.dom.div=s};i.prototype.getElement=function(){return this.dom.div},i.prototype.getPriority=function(t,n){"High"===t?(n.textContent=t,n.classList.add("priorityClassHigth")):"Medium"===t?(n.textContent=t,n.classList.add("priorityClassMedium")):(n.textContent=t,n.classList.add("priorityClassLow"))};var s=i;const a=function(t){this.name=t,this.list=[]};a.prototype.addTask=function(t,n,e){const r=new s(t,n,e);return this.list.push(r),r};var l=a;e(0);const d=function(){this.managers=[],this.currentManager=null,this.list={counter:0},this.prepare(),this.addNewList(),this.drawButton(),this.setFirstList(),this.getfromLocal(this.managers[0]),this.getLocalButtons()};d.prototype.prepare=function(){const t=o.find(document,".main__block");o.find(document,".main__block_show");this.lists=o.make("div",["lists"]),this.lists.span=o.make("span"),this.lists.TodayButton=o.make("button",["manager","list"],{textContent:"Cегодня"}),this.lists.TodayButton.dataset.id="today",this.addListButton=o.make("button",["listAdd"],{textContent:"+"}),this.addTasksButton=o.make("button",["button"],{textContent:"Add Task"}),this.addListButton.dataset.toggle="modal",this.addListButton.dataset.target="#myModal",this.addBlockInput=o.make("input",["input"]),this.addBlockInput.placeholder="Add Task...",this.addBlockSelect=o.make("select",["priority"]),this.addBlockOptionHigth=o.make("option",[],{textContent:"High"}),this.addBlockOptionMedium=o.make("option",[],{textContent:"Medium"}),this.addBlockOptionLow=o.make("option",[],{textContent:"Low"}),this.taskList=o.make("div",["taskList"]),this.taskList.ul=o.make("ul",["ulClass"]),this.taskList.Counter=o.make("span",["taskCount"],{textContent:"Tasks: "+this.list.counter}),o.appendTo(this.addBlockSelect,this.addBlockOptionHigth),o.appendTo(this.addBlockSelect,this.addBlockOptionMedium),o.appendTo(this.addBlockSelect,this.addBlockOptionLow),o.appendTo(this.taskList,this.addBlockInput),o.appendTo(this.taskList,this.addBlockSelect),o.appendTo(this.taskList,this.addTasksButton),o.appendTo(this.taskList,this.taskList.ul),o.appendTo(this.lists,this.lists.TodayButton),o.appendTo(this.lists,this.addListButton),o.appendTo(t,this.lists),o.appendTo(t,this.taskList),o.appendTo(t,this.taskList.Counter);let n=JSON.parse(localStorage.getItem("counter"));null!=n&&(this.taskList.Counter.style.display="block",this.taskList.Counter.textContent="Tasks: "+n)},d.prototype.addNewList=function(){const t=this;o.find(document,".listAdd").addEventListener("click",(function(){const n=o.find(document,".newListInput");o.make("button",["listAdd"],{textContent:"+"});document.querySelector(".newListInput").addEventListener("keydown",(function(t){13===t.keyCode&&(e(),n.value="")}));function e(){const e=n.value;if(""===e)return;const r=o.make("button",["manager","list"],{textContent:e});r.dataset.id=e,o.appendTo(t.lists,r),o.appendTo(t.lists,t.addListButton);const i=new l(e);t.managers.push(i),t.bindButtonEvent(r),n.value="",t.SetLocalButtons(e)}o.find(document,"#addList").addEventListener("click",e)}))},d.prototype.drawButton=function(){const t=o.find(document,".button");this.taskList.ul=o.find(document,".ulClass");const n=this,e=o.findAll(document,".manager");for(let t=0;t<e.length;t++){const n=e[t],r=new l(n.dataset.id);this.managers.push(r),this.bindButtonEvent(n)}t.addEventListener("click",(function(t){const e=o.find(document,".priority").value;if(n.tasksCountInc(),n.taskList.Counter.style.display="block",n.inputValue=o.find(document,".input"),""!=n.inputValue.value){const t=n.inputValue.value,r=n.currentManager.addTask(t,e,n);n.AddToUl(r.getElement()),n.inputValue.value="",n.inputValue.focus(),n.setToLocal(n.currentManager)}}))},d.prototype.tasksCountInc=function(){let t=JSON.parse(localStorage.getItem("counter"));t++,localStorage.setItem("counter",JSON.stringify(t)),this.taskList.Counter.textContent="Tasks: "+t},d.prototype.tasksCountDec=function(t){const n=o.find(t,".listText").textContent;for(let t=0;t<this.currentManager.list.length;t++)this.currentManager.list[t].name===n&&(this.currentManager.list.splice(t,1),this.setToLocal(this.currentManager));let e=JSON.parse(localStorage.getItem("counter"));e--,localStorage.setItem("counter",JSON.stringify(e)),this.taskList.Counter.textContent="Tasks: "+e},d.prototype.setFirstList=function(){this.currentManager=this.managers[0]},d.prototype.bindButtonEvent=function(t){const n=this;t.addEventListener("click",(function(t){const e=t.target.dataset.id;n.taskList.ul.innerHTML="";for(let t=0;t<n.managers.length;t++)n.managers[t].name===e&&(n.currentList=e,n.currentManager=n.managers[t]);n.getfromLocal(n.currentManager)}))},d.prototype.setToLocal=function(t){if(null!=t){const n=[];for(let e=0;e<t.list.length;e++){const r={text:t.list[e].name,priority:t.list[e].priority};n.push(r)}localStorage.setItem(t.name,JSON.stringify(n))}},d.prototype.getfromLocal=function(t){const n=JSON.parse(localStorage.getItem(t.name)),e=[],r={name:t.name,list:e};if(null!=n)for(let t=0;t<n.length;t++){const r=this.currentManager.addTask(n[t].text,n[t].priority,this);e.push(r)}this.fillByManagerList(r)},d.prototype.SetLocalButtons=function(t){const n=[],e=JSON.parse(localStorage.getItem("buttonsList"));if(null!=e)for(let t=0;t<e.length;t++)n.push(e[t]);n.push(t),localStorage.setItem("buttonsList",JSON.stringify(n))},d.prototype.getLocalButtons=function(){const t=JSON.parse(localStorage.getItem("buttonsList"));if(null!=t)for(let n=0;n<t.length;n++){const e=o.make("button",["manager","list"],{textContent:t[n]});e.dataset.id=t[n],o.appendTo(this.lists,e),o.appendTo(this.lists,this.addListButton);const r=new l(t[n]);this.managers.push(r),this.bindButtonEvent(e)}},d.prototype.fillByManagerList=function(t){for(let n=0;n<t.list.length;n++)this.AddToUl(t.list[n].getElement())},d.prototype.AddToUl=function(t){o.appendTo(this.taskList.ul,t)};n.default=d}]).default}));