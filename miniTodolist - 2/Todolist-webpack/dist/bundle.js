!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.TodoList=e():t.TodoList=e()}(window,(function(){return function(t){var e={};function n(s){if(e[s])return e[s].exports;var o=e[s]={i:s,l:!1,exports:{}};return t[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(s,o,function(e){return t[e]}.bind(null,o));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);const s=function(t,e,n){this.name=t,this.priority=e,this.app=n,this.dom={div:null};let o=0;const i=document.createElement("div");i.classList.add("list__task");const a=document.createElement("span");a.classList.add=s.prototype.getPriority(e,a);const d=document.createElement("span");d.classList.add("listText"),d.textContent=t;const r=document.createElement("button");r.textContent="...",r.classList.add("list__button");const l=document.createElement("button");l.classList.add("deleteSpan"),l.textContent="Удалить",r.addEventListener("click",(function(t){0===o?(i.appendChild(l),l.classList.add("changeDisplayBlock"),l.classList.remove("changeDisplayNone"),o++):(l.classList.add("changeDisplayNone"),l.classList.remove("changeDisplayBlock"),o--)})),l.addEventListener("click",(function(){const t=event.target.parentNode;n.tasksCountDec(event.target.parentNode),t.remove()})),i.appendChild(a),i.appendChild(d),i.appendChild(r),this.dom.div=i};s.prototype.getElement=function(){return this.dom.div},s.prototype.getPriority=function(t,e){"Higth"===t?(e.textContent=t,e.classList.add("priorityClassHigth")):"Medium"===t?(e.textContent=t,e.classList.add("priorityClassMedium")):(e.textContent=t,e.classList.add("priorityClassLow"))};var o=s;const i=function(t){this.name=t,this.list=[]};i.prototype.addTask=function(t,e,n){const s=new o(t,e,n);return this.list.push(s),s};var a=i;const d=function(){};d.prototype.make=function(t,e=[],n={}){const s=document.createElement(t);for(let t=0;t<e.length;t++){const n=e[t];s.classList.add(n)}for(let t in n)s[t]=n[t];return s},d.prototype.find=function(t,e){return t.querySelector(e)},d.prototype.findAll=function(t,e){return t.querySelectorAll(e)};var r=new d;const l=function(){this.managers=[],this.currentManager=null,this.list={counter:0},this.prepare(),this.listAdd(),this.drawButton(),this.showAddBlock()};l.prototype.showAddBlock=function(){let t=0;const e=document.querySelector(".main__block_show"),n=document.querySelector(".lists");document.querySelector(".addButton").addEventListener("click",(function(){0===t?(e.style.display="block",n.style.display="block",t++):(e.style.display="none",n.style.display="none",t--)}))},l.prototype.prepare=function(){const t=document.querySelector(".main__block"),e=document.querySelector(".main__block_show");this.lists=r.make("div"),this.lists.classList.add("lists"),this.lists.span=r.make("span"),this.lists.TodayButton=r.make("button",["manager","list"]),this.lists.TodayButton.textContent="Сегодня",this.lists.TodayButton.dataset.id="today",this.addListButton=r.make("button",["listAdd"]),this.addListButton.textContent="+",this.addListButton.dataset.toggle="modal",this.addListButton.dataset.target="#myModal",this.addBlockInput=r.make("input",["input"]),this.addBlockInput.placeholder="Add Task",this.addBlockSelect=r.make("select",["priority"]),this.addBlockOptionHigth=r.make("option",[],{textContent:"High"}),this.addBlockOptionMedium=r.make("option",[],{textContent:"Medium"}),this.addBlockOptionLow=r.make("option",[],{textContent:"Low"}),this.taskList=r.make("div",["taskList"]),this.taskList.ul=r.make("ul",["ulClass"]),this.taskList.Counter=r.make("span",["taskCount"],{textContent:"Tasks: "+this.list.counter}),this.addBlockSelect.append(this.addBlockOptionHigth),this.addBlockSelect.append(this.addBlockOptionMedium),this.addBlockSelect.append(this.addBlockOptionLow),this.taskList.append(this.taskList.ul),e.prepend(this.addBlockSelect),e.prepend(this.addBlockInput),this.lists.append(this.lists.TodayButton),this.lists.append(this.addListButton),t.append(this.lists),t.append(this.taskList),t.append(this.taskList.Counter)},l.prototype.listAdd=function(){const t=this;document.querySelector(".listAdd").addEventListener("click",(function(){const e=document.querySelector(".newListInput"),n=document.createElement("button");n.classList.add("listAdd"),n.textContent="+",document.querySelector(".newListInput").addEventListener("keydown",(function(t){13===t.keyCode&&(s(),e.value="")}));function s(){const n=e.value;if(""===n)return;const s=document.createElement("button");s.textContent=n,s.classList.add("manager","list"),s.dataset.id=n,t.lists.append(s),t.lists.append(t.addListButton);const o=new a(n);t.managers.push(o),t.bindButtonEvent(s),e.value=""}document.querySelector("#addList").addEventListener("click",s)}))},l.prototype.drawUl=function(){return document.createElement("ul")},l.prototype.drawButton=function(){const t=document.querySelector(".button");this.taskList.ul=document.querySelector(".ulClass");const e=this,n=document.querySelectorAll(".manager");for(let t=0;t<n.length;t++){const e=n[t],s=new a(e.dataset.id);this.managers.push(s),this.bindButtonEvent(e)}t.addEventListener("click",(function(t){const n=r.find(document,".priority").value;e.tasksCountInc(),e.taskList.Counter.style.display="block",e.inputValue=r.find(document,".input");const s=e.inputValue.value,o=e.currentManager.addTask(s,n,e);e.AddToUl(o.getElement()),e.inputValue.value="",e.inputValue.focus()}))},l.prototype.fillByManagerList=function(t){for(let e=0;e<t.list.length;e++)this.AddToUl(t.list[e].getElement())},l.prototype.AddToUl=function(t){this.taskList.ul.append(t)},l.prototype.tasksCountInc=function(){this.list.counter++,this.taskList.Counter.textContent="Tasks: "+this.list.counter},l.prototype.tasksCountDec=function(t){const e=t.querySelector(".listText").textContent;for(let t=0;t<this.currentManager.list.length;t++)this.currentManager.list[t].name===e&&this.currentManager.list.splice(t,1);this.list.counter--,this.taskList.Counter.textContent="Tasks: "+this.list.counter},l.prototype.bindButtonEvent=function(t){const e=this;t.addEventListener("click",(function(t){const n=t.target.dataset.id;e.taskList.ul.innerHTML="";for(let t=0;t<e.managers.length;t++)e.managers[t].name===n&&(e.currentList=n,e.currentManager=e.managers[t]);e.fillByManagerList(e.currentManager)}))};e.default=l}]).default}));